<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:bookstore="http://dukesbookstore"
      template="WEB-INF/templates/bookstore.template.xhtml"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf">
	<div class="container">

		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse"
					data-target="#navbar-collapsible">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<h:link class="navbar-brand" outcome="/index" value="Dukes Bookstore" />
		</div>

		<div class="navbar-collapse collapse" id="navbar-collapsible">

			<ul class="nav navbar-nav navbar-left">
				<li class="dropdown">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
					   aria-haspopup="true" aria-expanded="false">Shop <span class="caret"></span></a>
					<ul class="dropdown-menu">
						<li><h:link outcome="/shop" value="Shop All" /></li>
						<li role="separator" class="divider"></li>
						<li class="dropdown-header">Categories</li>
						<ui:repeat value="#{shop.genres}" var="genre">
							<h:form>
								<li><h:commandLink action="#{shop.viewGenre(genre)}">#{genre}</h:commandLink></li>
							</h:form>
						</ui:repeat>
					</ul>
				</li>
				<li><a href="sales/List.xhtml">Member Sales</a></li>
				<li>
					<form class="navbar-form navbar-nav">
						<div class="form-group">
							<div class="input-group">
								<input id="nav-search" type="text" class="form-control"
									   placeholder="Title, Author, Genre, ISBN"></input>
								<span class="input-group-btn"><button class="btn btn-default" type="button"><i
											class="fa fa-search" aria-hidden="true"></i></button>    </span>
							</div>
						</div>
					</form>
				</li>

				<li>
					<h:link outcome="/bookshowcart" rendered="#{!memberSession.admin}">
						<i class="fa fa-shopping-cart" aria-hidden="true"></i> Cart
					</h:link>
				</li>

				<li>
					<h:link outcome="/login" rendered="#{!memberSession.loggedIn}"><i class="fa fa-sign-in"
																					  aria-hidden="true"></i> Login
					</h:link>
				</li>


				<c:if test="#{memberSession.loggedIn}">
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
						   aria-haspopup="true" aria-expanded="false">
							#{memberSession.firstname}  <span class="caret"></span>
						</a>
						<ul class="dropdown-menu">
							<li>
								<h:link outcome="/dashboard" rendered="#{memberSession.customer}"><i
										class="fa fa-dashboard" aria-hidden="true"></i> Dashboard</h:link>
								<h:link outcome="/admin/activity-summary" rendered="#{memberSession.admin}"><i
										class="fa fa-dashboard" aria-hidden="true"></i> Admin</h:link>
							</li>
                            <h:form>
								<li>

									<h:commandLink action="#{memberSession.logout}"><i
											class="fa fa-sign-out"
											aria-hidden="true"></i> Logout</h:commandLink>
								</li>
                            </h:form>
						</ul>
					</li>
				</c:if>
			</ul>
		</div>

	</div>
</html>